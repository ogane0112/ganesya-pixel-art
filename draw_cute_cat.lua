-- ã‹ã‚ã„ã„çŒ«ã‚’æãAsepriteã‚¹ã‚¯ãƒªãƒ—ãƒˆ
-- Aseprite > File > Scripts > Open Scripts Folder ã«ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã—ã¦ä½¿ç”¨

-- æ–°ã—ã„ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚’ä½œæˆï¼ˆ32x32ãƒ”ã‚¯ã‚»ãƒ«ï¼‰
local sprite = Sprite(32, 32, ColorMode.RGB)
sprite.filename = "cute_cat.aseprite"

-- ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’å–å¾—
local layer = sprite.layers[1]
layer.name = "çŒ«"

-- è‰²ã‚’å®šç¾©
local black = Color{ r=0, g=0, b=0 }
local white = Color{ r=255, g=255, b=255 }
local orange = Color{ r=255, g=165, b=0 }
local lightOrange = Color{ r=255, g=200, b=100 }
local pink = Color{ r=255, g=192, b=203 }
local green = Color{ r=0, g=200, b=0 }
local darkGreen = Color{ r=0, g=150, b=0 }

-- ã‚»ãƒ«ã‚’å–å¾—
local cel = sprite.cels[1]
local image = cel.image

-- çŒ«ã®æç”»ãƒ‡ãƒ¼ã‚¿ï¼ˆ32x32ã‚°ãƒªãƒƒãƒ‰ï¼‰
-- 0=é€æ˜, 1=é»’(è¼ªéƒ­), 2=ã‚ªãƒ¬ãƒ³ã‚¸, 3=ç™½, 4=ãƒ”ãƒ³ã‚¯, 5=ç·‘(ç›®), 6=æ¿ƒã„ç·‘
local catPattern = {
  "................................",
  "................................",
  "................................",
  "........1111........1111........",
  ".......1222211....1122221.......",
  "......122222211..11222222111....",
  ".....12222222211112222222221....",
  "....122222222222222222222221....",
  "....122222222222222222222221....",
  "...11222222222222222222222211...",
  "..12222222222222222222222222211.",
  ".1222222222222222222222222222221",
  ".1222225522222222222222255222221",
  ".1222225522222222222222255222221",
  ".1222226622222222222222266222221",
  ".1222222222222222222222222222221",
  ".1222222211112222221111222222221",
  ".1222222211112222221111222222221",
  ".1222222222222222222222222222221",
  "..122222222222222222222222222211",
  "..122222222222222222222222222211",
  "...1222222222224422222222222211.",
  "...1222222222244442222222222211.",
  "....12222222222222222222222211..",
  "....122222222222222222222221111.",
  ".....1222222222222222222221331..",
  "......12222222222222222221.331..",
  ".......122222222222222221..33...",
  "........111122222222211....33...",
  "..........11111111111......33...",
  "...........................11...",
  "................................",
}

-- ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åŸºã¥ã„ã¦æç”»
for y = 1, 32 do
  for x = 1, 32 do
    local char = catPattern[y]:sub(x, x)
    local color = nil
    
    if char == "1" then
      color = black
    elseif char == "2" then
      color = orange
    elseif char == "3" then
      color = white
    elseif char == "4" then
      color = pink
    elseif char == "5" then
      color = green
    elseif char == "6" then
      color = darkGreen
    end
    
    if color then
      image:drawPixel(x-1, y-1, color)
    end
  end
end

-- ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚’æ›´æ–°
app.refresh()

-- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
app.alert("ã‹ã‚ã„ã„çŒ«ã‚’æãã¾ã—ãŸï¼ ğŸ±")
