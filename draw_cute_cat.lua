-- ã‹ã‚ã„ã„çŒ«ã‚’æãAsepriteã‚¹ã‚¯ãƒªãƒ—ãƒˆ
-- Aseprite > File > Scripts > Open Scripts Folder ã«ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã—ã¦ä½¿ç”¨

-- æ–°ã—ã„ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚’ä½œæˆï¼ˆ48x48ãƒ”ã‚¯ã‚»ãƒ«ï¼‰
local sprite = Sprite(48, 48, ColorMode.RGB)
sprite.filename = "cute_cat.aseprite"

-- ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’å–å¾—
local layer = sprite.layers[1]
layer.name = "ã‹ã‚ã„ã„çŒ«"

-- è‰²ã‚’å®šç¾©
local black = Color{ r=45, g=45, b=45 }           -- è¼ªéƒ­
local darkBrown = Color{ r=89, g=70, b=64 }       -- æ¿ƒã„èŒ¶è‰²
local brown = Color{ r=139, g=115, b=101 }        -- èŒ¶è‰²
local white = Color{ r=255, g=255, b=255 }        -- ç™½
local lightGray = Color{ r=240, g=240, b=240 }    -- è–„ã„ã‚°ãƒ¬ãƒ¼
local pink = Color{ r=255, g=182, b=193 }         -- ãƒ”ãƒ³ã‚¯
local lightPink = Color{ r=255, g=220, b=225 }    -- è–„ã„ãƒ”ãƒ³ã‚¯
local cream = Color{ r=255, g=240, b=200 }        -- ã‚¯ãƒªãƒ¼ãƒ è‰²
local lightBrown = Color{ r=180, g=150, b=130 }   -- è–„ã„èŒ¶è‰²

-- ã‚»ãƒ«ã‚’å–å¾—
local cel = sprite.cels[1]
local image = cel.image

-- çŒ«ã®æç”»ãƒ‡ãƒ¼ã‚¿ï¼ˆ48x48ã‚°ãƒªãƒƒãƒ‰ï¼‰- æ¨ªãŸã‚ã£ã¦ã„ã‚‹ä¸‰æ¯›çŒ«
-- 0=é€æ˜, 1=é»’è¼ªéƒ­, 2=æ¿ƒã„èŒ¶, 3=èŒ¶è‰², 4=ç™½, 5=è–„ç°, 6=ãƒ”ãƒ³ã‚¯, 7=è–„ãƒ”ãƒ³ã‚¯, 8=ã‚¯ãƒªãƒ¼ãƒ , 9=è–„èŒ¶
local catPattern = {
  "................................................",
  "................................................",
  "................................................",
  "................................................",
  "................................................",
  "................................................",
  "...........11111111111..........................",
  "..........144444444441111.......................",
  ".........14444444444444441111...................",
  "........144444444444444444441...................",
  ".......14444444444444444444441..................",
  "......1444444444444444444444441111..............",
  ".....144444444444444444444444444441.............",
  "....14444444444444444444444444444441............",
  "....144444444111144444444111444444441...........",
  "...14444444411..11444444411..1144444441.........",
  "...14444444411..114444444411..114444441.........",
  "...1444444444111144444444411111444444411........",
  "...144444444444444444444444444444444441111......",
  "..14444444444444444444444444444444444444411.....",
  "..144444444444444411667111444444444444444411....",
  "..144444444444444416777761444444444444444441....",
  "..144444444444444416677761444444444444444441....",
  "..144444444444444441666614444444444444444441....",
  "..14444444444444444411114444444444444444441111..",
  "..14444444444444444444444444444444444444223311..",
  "..144444444444444444444444444444444444423333311.",
  "..144444444444444444444444444444444442333333331.",
  "..1444444444444444444444444444444442333333333311",
  "..14444444444444444444444444444443333333333333311",
  "...1444444444444444444444444444423333333333333311",
  "...1444444444444444444444444444233333333333333311",
  "...14444444444444444444444444423333333333333331..",
  "....14444444444444444444444442333333333333331....",
  "....144444444444444444444444233333333333331......",
  ".....144444444444444444444423333333333331........",
  ".....1444444444444444444442333333333331..........",
  "......14444444444444444442333333333331...........",
  ".......144444444444444442333333333331............",
  "........1444444444444442333333333311.............",
  ".........14444444444442333333333311..............",
  "..........144444444442333333333311...............",
  "...........1444444442333333331111................",
  "............11444442333333311....................",
  ".............1144423333311.......................",
  "...............11233311..........................",
  "................1111.............................",
  "................................................",
}

-- ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åŸºã¥ã„ã¦æç”»
for y = 1, 48 do
  for x = 1, 48 do
    local char = catPattern[y]:sub(x, x)
    local color = nil
    
    if char == "1" then
      color = black
    elseif char == "2" then
      color = darkBrown
    elseif char == "3" then
      color = brown
    elseif char == "4" then
      color = white
    elseif char == "5" then
      color = lightGray
    elseif char == "6" then
      color = pink
    elseif char == "7" then
      color = lightPink
    elseif char == "8" then
      color = cream
    elseif char == "9" then
      color = lightBrown
    end
    
    if color then
      image:drawPixel(x-1, y-1, color)
    end
  end
end

-- ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆã‚’æ›´æ–°
app.refresh()

-- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
app.alert("ã‹ã‚ã„ã„çŒ«ã‚’æãã¾ã—ãŸï¼ ğŸ±")
